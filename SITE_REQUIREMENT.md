# スクール検索サイト 要件
## 目的
本サイトは、以下の２点を目的に、Webアプリケーションとして構築する。
- 主催しているスクール情報を登録して生徒の募集ができること。
- 興味のあるスクールを検索して受講の申込ができること。
## 想定するペルソナ
- 利用者
    - スクールを検索する。
    - スクールに申し込む。
- 登録者
    - スクールを登録する。
    - 利用者からの申込を受け付ける。
    - 受け付けた申込に応じて対応する。
- 管理者
    - アカウントやスクールなどのサイトに関わる情報を管理する。
    - お問合せを受け付ける。
## 画面
以下の要件を満たす画面を構築する。
### フロント画面
利用者および登録者向けの画面全般をフロント画面とする。
- 登録されているスクールを検索し、詳細を確認できること。
- アカウントを作成できること。
    - 作成後に登録されたメールアドレスが存在した場合にアカウントを有効化できること。
- 作成したアカウントでログインできること。
    - アカウントの編集ができること。
    - 退会ができること。
    - スクールへの申込・キャンセルができること。
    - 気になるスクールを保存できること。
    - スクールの登録ができること。
        - 登録後にスクールの編集・削除ができること。
        - 登録したスクールへの申込の確認ができること。
    - スクールに申込をした利用者と申込を受け付けた登録者の間でメッセージを作成・送受信できること。
- アカウントに紐づくパスワードを再発行できること。
- 管理者にお問合せができること。
- エラーが発生した場合にその内容を表示できること。
### 管理画面
管理者向けの画面全般を管理画面とする。
- 管理者用のアカウントでログインした場合にアクセスできること。
    - アカウントの作成・編集・削除ができること。
        - アカウントに関する情報をCSVに出力できること。
    - スクールの登録・編集・削除ができること。
        - スクールに関する情報をCSVに出力できること。
    - 申込を管理できること。
        - 申込に関する情報をCSVに出力できること。
    - カテゴリーを追加・編集・削除できること。
        - カテゴリーに関する情報をCSVに出力できること。
    - お問合せを管理できること。
        - お問合せに関する情報をCSVに出力できること。
## 機能
以下の要件を満たす機能を構築する。
- 登録されているスクールを検索して詳細を確認できること。
- ログイン状態を判定する情報を作成・提供・破棄できること。
- アカウントを作成・編集・削除ができること。
    - メールアドレスが存在した場合にアカウントが有効化できること。
- スクールを登録・編集・削除できること。
- スクールへの申込および申込のキャンセルができること。
- 受け付けた申込を確認できること。
- 利用者と登録者の間でメッセージの作成・送受信ができること。
- アカウントに紐づくパスワードを再発行できること。
- カテゴリーを追加・編集・削除ができること。
- お問合せができること。
- お問合せを確認できること。
- アカウント・スクール・申込・カテゴリー・お問合せに関する情報をCSVに出力できること。
- イベント(アカウントの作成やスクールへの申込など)に応じてメールを送信できること。
- エラーの発生を検知できること。
    - 検知したエラーに応じて画面表示・遷移を制御できること。
## システムアーキテクチャー
本サイトは、以下のサーバー構成によって構築する。
1. ウェブサーバー
    - クライアントからのリクエストを受け付けること。
    - アプリケーションサーバーにリクエストを送ること。
    - アプリケーションサーバーからのレスポンスに応じること。
    - アプリケーションサーバーのレスポンスに応じて、クライアントにレスポンスを送ること。
1. アプリケーションサーバー
    - ウェブサーバーからのリクエストを受け付ける。
    - ウェブサーバーのリクエストに応じて、業務ロジックを実行すること。
    - データベースサーバーにクエリーを発行すること。
    - データベースからのデータまたは実行結果をもとに業務ロジックを実行すること。
    - メールサーバーにリクエストを送ること。
    - メールサーバーからの実行結果をもとに業務ロジックを実行すること。
    - ウェブサーバーにレスポンスを送ること。
1. データベースサーバー
    - アプリケーションサーバーからのクエリーを受け付けること。
    - アプリケーションサーバーのクエリーに応じて、データの取得・更新・削除を行うこと。
    - アプリケーションサーバーにデータまたは実行結果を送ること。
1. メールサーバー
    - アプリケーションサーバーからのリクエストを受け付けること。
    - アプリケーションサーバーのリクエストに応じてメールを送信すること。
    - アプリケーションサーバーに実行結果を送ること。
## アプリケーションアーキテクチャー
アプリケーションサーバー内に構築するアプリケーションは、以下の構成によって構築する。
1. コントローラー層
    - ウェブサーバーからのリクエストを受け付けること。
    - ウェブサーバーからのリクエストに応じて、モデル層およびビュー層にリクエストを送ること。
1. モデル層
    - コントローラー層からのリクエストに応じて業務処理を実行すること。
    - ビュー層から受け付けた操作内容およびデータに応じて業務処理を実行すること。
    - データベースに接続し、データの取得・更新・削除を行うこと。
    - 業務処理の結果をビュー層に送ること。
1. ビュー層
    - コントローラー層からのリクエストに応じて画面を提供すること。
    - 画面の操作内容および入力されたデータをモデル層に送ること。
    - モデル層から受け付けたデータを画面に反映すること。
