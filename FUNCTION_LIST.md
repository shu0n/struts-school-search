# スクール検索サイト 機能一覧
下記の各機能は特に記載がない限り、利用者、登録者、管理者が利用できる。
## ログイン管理機能
### フロント画面
#### ログイン機能
- アカウントを保持する利用者が利用できる。
- 入力された情報にヒットするアカウントが存在する場合にログイン状態とする。
    - 入力情報
        - メールアドレス
        - パスワード
#### ログイン情報提供機能
- アカウントを保持する利用者が利用できる。
- 画面へのアクセスに伴い作成されたログイン情報を提供する。
    - ブラウザ単位で提供する。
#### ログアウト機能
- アカウントを保持する利用者が利用できる。
- ログアウト状態とする。
### 管理画面
#### ログイン機能
- アカウントを保持する管理者が利用できる。
- 入力された情報にヒットするアカウントが存在する場合にログイン状態としてセッションを作成する。
    - 入力情報
        - メールアドレス
        - パスワード
#### セッション情報提供機能
- アカウントを保持する管理者が利用できる。
- 画面へのアクセスに伴い作成されたセッション情報を提供する。
    - ブラウザ単位で提供する
#### ログアウト機能
- アカウントを保持する管理者が利用できる。
- ログアウト状態とする。
## アカウント機能
### アカウント管理機能
#### アカウント作成機能
- 入力された情報をもとにアカウントを作成する。
- 入力された情報に不足およびバリデーションエラーがある場合は作成を中断する。
#### アカウント編集機能
- 利用者は保持するアカウントに関してのみ利用できる。
- 登録されたアカウントの情報を編集する。
- 編集された情報に不足およびバリデーションエラーがある場合は更新を中断する。
#### アカウント削除機能
- 利用者は保持するアカウントに関してのみ利用できる。
- アカウントテーブルから当該レコードを論理削除する。
    - 登録者として1件以上のスクールIDが紐づいている場合は論理削除を不可とする。
    - アカウントIDに紐づいている申込を申込テーブルから論理削除する。
    - アカウントIDに紐づいているお問合せをお問合せテーブルから論理削除する。
#### アカウント有効化機能
- 新規作成時にアカウントを有効化するためのURL(有効化URL)を生成する。
    - URLは一意のトークンを含めて作成する。
- 登録されたメールアドレス宛に有効化URLを記載したメールを送信する。
- 有効化URLへのアクセスを検知し、当該アカウントを有効化する。
- 有効化URLを一定期間、管理する。
    - アカウントが有効化された時点で削除する。
    - 一定期間内にアカウントが有効化されなかった場合は削除する。
#### パスワード再発行機能
- 特定のアカウントに紐づくパスワードを再発行するためのURL(再発行URL)を生成する。
    - URLは一意のトークンを含めて作成する。
- 入力されたメールアドレス宛に再発行URLを記載したメールを送信する。
- 再発行URLのトークンが有効な場合は新しいパスワードの入力を可能として当該アカウントに紐づくパスワードを更新する。
- 再発行URLを一定期間、管理する。
    - パスワードが更新された時点で削除する。
    - 一定期間内にパスワードが更新されなかった場合は削除する。
### アカウント情報取得機能
#### アカウント一覧情報取得機能
- 管理者が利用できる。
- 特定の条件にヒットする複数のアカウントの情報を取得する。
#### アカウント検索機能
- 利用者は保持するアカウントに関してのみ利用できる。
- 特定の条件を指定し、アカウントを検索する。
#### アカウント詳細情報取得機能
- 利用者は保持するアカウントに関してのみ利用できる。
- 特定の条件にヒットする単一のアカウントの情報を取得する。
    - キー項目：アカウントID
## スクール機能
### スクール管理機能
#### スクール登録機能
- アカウントを保持する利用者および管理者が利用できる。
    - 管理者は管理者としての登録およびアカウントに代わっての登録ができる。
- 入力された情報をもとにスクールを登録する。
- 入力された情報に不足およびバリデーションエラーがある場合は登録を中断する。
#### スクール編集機能
- 登録者および管理者が利用できる。
    - 登録者は登録したスクールに関してのみ利用できる。
- 登録されたスクールの情報を編集する。
- 編集された情報に不足およびバリデーションエラーがある場合は更新を中断する。
#### スクール削除機能
- 登録者および管理者が利用できる。
    - 登録者は登録したスクールに関してのみ利用できる。
- スクールテーブルから当該レコードを論理削除する。
    - 1件以上の申込IDが紐づいている場合は論理削除を不可とする。
### スクール情報取得機能
#### スクール一覧情報取得機能
- 特定の条件にヒットする複数のスクールの情報を取得する。
#### スクール検索機能
- 特定の条件を指定し、スクールを検索する。
#### スクール詳細情報取得機能
- 特定の条件にヒットする単一のスクールの情報を取得する。
    - キー項目：アカウントID
#### プロフィール取得機能
- スクールを登録したアカウントの「プロフィール画像」および「自己紹介」を取得する。
    - キー項目：アカウントID
## 申込機能
### 申込機能
- アカウントを保持する利用者が利用できる。
- 特定のスクールへ申込情報を作成し、当該スクールを作成したアカウントのメールアドレス宛に通知メールを送信する。
- 入力された情報に不足およびバリデーションエラーがある場合は作成を中断する。
### 申込管理機能
- アカウントを保持する利用者が利用できる。
#### 申込キャンセル機能
- 申込をキャンセルする。
### 申込情報取得機能
#### 申込一覧情報取得機能
- 特定の条件にヒットする複数の申込の情報を取得する。
#### 申込検索機能
- 特定の条件を指定し、申込を検索する。
#### 申込詳細情報取得機能
- 特定の条件にヒットする単一の申込の情報を取得する。
    - キー項目：申込ID
### 申込受付情報取得機能
- 登録者および管理者が利用できる。
    - 登録者は登録したスクールに紐づく申込に関してのみ利用できる
#### 申込受付一覧情報取得機能
- 特定の条件にヒットする複数の申込受付の情報を取得する。
#### 申込受付検索機能
- 特定の条件を指定し、申込受付を検索する。
#### 申込受付詳細情報取得機能
- 特定の条件にヒットする単一の申込受付の情報を取得する。
    - キー項目：申込ID
### 申込受付管理機能
- 登録者および管理者が利用できる。
    - 登録者は登録したスクールに紐づく申込に関してのみ利用できる
#### 申込受付ステータス更新機能
- 申込受付のステータスを更新する。
## 気になるスクール機能
- アカウントを保持する利用者が利用できる。
### 気になるスクール一覧情報取得機能
- 特定の条件にヒットする複数の気になるスクールの情報を取得する。
### 気になるスクール追加機能
- 特定のスクールを「気になるスクール」として登録する。
### 気になるスクール削除機能
- 追加済のスクールを「気になるスクール」から削除する。
## メッセージ機能
- アカウントを保持する利用者および登録者が利用できる。
### 受信メッセージ一覧情報取得機能
- 複数の受信したメッセージの情報を取得する。
### 受信メッセージ詳細情報取得機能
- 単一の受信したメッセージの情報を取得する。
### 受信メッセージ削除機能
- 受信したメッセージを削除する。
### 送信メッセージ一覧情報取得機能
- 複数の送信したメッセージの情報を取得する。
### 送信メッセージ詳細情報取得機能
- 単一の送信したメッセージの情報を取得する。
### 送信メッセージ削除機能
- 送信したメッセージを削除する。
### メッセージ送信機能
- 指定したアカウントを宛先としてメッセージを送信する。
### メッセージ通知機能
- メッセージを受信したことを宛先アカウントのメールアドレス宛にメールで通知する。
## お問合せ機能
### お問合せ機能
- 利用者が利用できる。
- 入力情報をもとにお問合せ情報を作成し、特定メールアドレス宛に通知メールを送信する。
- 入力された情報に不足およびバリデーションエラーがある場合は作成を中断する。
### お問合せ情報取得機能
- 管理者が利用できる。
#### お問合せ検索機能
- 特定の条件を指定し、お問合せを検索する。
#### お問合せ一覧情報取得機能
- 特定の条件にヒットする複数のお問合せの情報を取得する。
#### お問合せ詳細情報取得機能
- 特定の条件にヒットする単一のお問合せの情報を取得する。
    - キー項目：お問合せID
### お問合せ管理機能
- 管理者が利用できる。
#### お問合せステータス更新機能
- お問合せのステータスを更新する。
## カテゴリー機能
- 管理者が利用できる。
### カテゴリー一覧情報取得機能
- 全てのカテゴリーの情報を取得する。
### カテゴリー作成機能
- 入力情報をもとにカテゴリーを作成する。
- 入力された情報に不足およびバリデーションエラーがある場合は作成を中断する。
### カテゴリー編集機能
- 追加済のカテゴリーの情報を編集する。
- 編集された情報に不足およびバリデーションエラーがある場合は作成を中断する。
### カテゴリー削除機能
- カテゴリーテーブルから当該レコードを論理削除する。
    - １件以上のスクールIDが紐づいている場合は論理削除を不可とする。
## CSV入出力機能
- 管理者が利用できる。
### スクールCSVインポート機能
- アップロードされたCSVを読み込み後に複数のスクールを登録する。
- 読込時にCSVの内容に異常がある場合は処理を中止する。
### カテゴリーCSVインポート機能
- アップロードされたCSVを読み込み後に複数のカテゴリーを登録する。
- 読込時にCSVの内容に異常がある場合は処理を中止する。
### アカウントCSVエクスポート機能
- 作成されたアカウントの情報をCSVに出力する。
### スクールCSVエクスポート機能
- 登録されたスクールの情報をCSVに出力する。
### 申込CSVエクスポート機能
- 申込の情報をCSVに出力する。
### カテゴリーCSVエクスポート機能
- 追加されているカテゴリーの情報をCSVに出力する。
### お問合せCSVエクスポート機能
- お問合せの情報をCSVに出力する。
## メール機能
### メール送信機能
- 指定したメールアドレス宛に指定した件名およびタイトルを記載したメールを送信する。
## 画面機能
### 情報出力機能
- 取得した情報を画面に出力する。
### 情報入力機能
- 作成・登録・編集などを行う場合に必要な情報を入力するためのインターフェースを提供する。
### レスポンシブ表示機能
- PCおよびスマートフォンの各画面に対応したレイアウトで画面表示する。
## バリデーション機能
### 入力値チェック機能
- 特定の項目について、入力された値が条件に合致しているかを判定する。
